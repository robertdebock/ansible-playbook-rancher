---
#
# Ansible managed
#
language: python

python:
  - "3.8"

services:
  - docker

env:
  global:
    namespace="robertdebock"
  matrix:
    - image="alpine" tag="latest"
    - image="alpine" tag="edge"
    - image="amazonlinux" tag="1"
    - image="centos" tag="7"
    - image="centos" tag="latest"
    - image="debian" tag="latest"
    - image="debian" tag="bullseye"
    - image="fedora" tag="31"
    - image="fedora" tag="latest"
    - image="opensuse" tag="latest"
    - image="ubuntu" tag="latest"
    - image="ubuntu" tag="bionic"
    - image="ubuntu" tag="xenial"

cache:
  - pip

install:
  - pip install --upgrade pip
  - pip install tox

script:
  - tox --parallel all

notifications:
  webhooks: https://galaxy.ansible.com/api/v1/notifications/
  slack:
    rooms:
      - secure: "QdbYBFFnn3L+lBy0ERrSzKZr/8/a8f/3gQ6f3Syb7dfAaBVuWfxTx+sqiL0XvAnvsgEB8DBcW25ZI4pn3B97hy8xBO9Fam3j/QP5Nn3gsv89C+CA3jhYfd8SUKyNKD0NNPnICzcPRynOwWAfEYdja6tVMcx8xbLvSuWC6zONlca4Wik1S7M5EMvbOMoizXX5uHMinn57StEN0s5+JxKy2CeS/KbKlBuoY01o9hdABKzmpc9e7hFdLSJn76G2hrJ06IvlBsbFSHMAbN8wOYWh4JpyXKl1jA7kvvkTyo+lqWyfBKks9mdP6HAIhnlI2IGJRnaRQ7jisWD91mPAjZUVWy/RDdj6S/LJ/R9vBWYWMN35aKOJWLrdLJ/pLq+F4d71o5E8V42NKgiwfeUsGqF4fwSmZ8iKvUqVb235eO0Trju4xj+grJ20Y3hmK45ILjsVQiMbYZ9RF5oTMi5IV32mAqDsZLoA01nIQL8P35lO4NqLem4QQY5dn0KESe5Id4Bgx30Vpr4tdSnL8A+cMetElnIDovQ7dizxDCFdsp6rW9a9OYC2kPxHpR7JpeIhWNexTOGuv3zaKX7q6GLLNY1Um06Xw1PjbSO/AamignDKHrpZ2OCOe79b2nusSijEpZ0efd9ZH8l97rd62Wyn8zi2NAfGYIfHtcZR9sCawK4o1n4="
  email: false
